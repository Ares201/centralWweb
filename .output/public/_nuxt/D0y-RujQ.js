import{_ as w}from"./0X1Ki933.js";import{g as _,e as C,r as i,A as V,B,z as b,c as f,a as e,t as u,p as a,q as N,k as T,v as c,x as p,C as g,b as q,w as A,o as x,d as D,y as I,T as v,D as M,_ as S}from"./CyYbDFE6.js";const j={class:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-8"},z={class:"w-full max-w-sm px-4"},U={class:"text-center mb-8"},L={class:"text-2xl font-light text-gray-800 dark:text-gray-200"},R={class:"text-sm text-gray-500 dark:text-gray-400 mt-2"},P=["placeholder"],E={key:0},H={type:"submit",class:"w-full py-3 mt-2 text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"},$={class:"text-center mt-8"},F=_({__name:"login",setup(G){const{$db:m}=C(),s=i(""),o=i(""),n=i(""),t=i(!1),y=i([]);V(async()=>{const l=await B(b(m,"users"));y.value=l.docs.map(r=>r.data())});const k=async()=>{if(t.value){if(o.value!==n.value){alert("Las contraseñas no coinciden");return}await I(b(m,"users"),{username:s.value,password:o.value,role:"user",createdAt:v.now(),updatedAt:v.now()}),alert("Cuenta creada correctamente"),t.value=!1,n.value=""}else{const l=y.value.find(r=>r.username===s.value&&r.password===o.value);l?(localStorage.setItem("loggedIn","true"),localStorage.setItem("userRole",l.role),M("/projects")):alert("Usuario o contraseña incorrectos")}};return(l,r)=>{const h=w;return x(),f("div",j,[e("div",z,[e("div",U,[r[3]||(r[3]=e("div",{class:"inline-block p-3 bg-gray-100 dark:bg-gray-800 rounded-full mb-4"},[e("svg",{class:"w-8 h-8 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),e("h1",L,u(a(t)?"Crear cuenta":"Iniciar sesión"),1),e("p",R,u(a(t)?"Comienza tu experiencia":"Bienvenido de nuevo"),1)]),e("form",{class:"space-y-5",onSubmit:N(k,["prevent"])},[e("div",null,[c(e("input",{id:"username","onUpdate:modelValue":r[0]||(r[0]=d=>g(s)?s.value=d:null),type:"text",required:"",placeholder:"Nombre de usuario",class:"w-full px-4 py-3 text-gray-700 dark:text-gray-300 bg-transparent border-b border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none placeholder-gray-400 dark:placeholder-gray-500 transition-colors"},null,512),[[p,a(s)]])]),e("div",null,[c(e("input",{id:"password","onUpdate:modelValue":r[1]||(r[1]=d=>g(o)?o.value=d:null),type:"password",required:"",placeholder:a(t)?"Crear contraseña":"Tu contraseña",class:"w-full px-4 py-3 text-gray-700 dark:text-gray-300 bg-transparent border-b border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none placeholder-gray-400 dark:placeholder-gray-500 transition-colors"},null,8,P),[[p,a(o)]])]),a(t)?(x(),f("div",E,[c(e("input",{id:"confirmPassword","onUpdate:modelValue":r[2]||(r[2]=d=>g(n)?n.value=d:null),type:"password",required:"",placeholder:"Confirmar contraseña",class:"w-full px-4 py-3 text-gray-700 dark:text-gray-300 bg-transparent border-b border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none placeholder-gray-400 dark:placeholder-gray-500 transition-colors"},null,512),[[p,a(n)]])])):T("",!0),e("button",H,u(a(t)?"Continuar":"Acceder"),1)],32),e("div",$,[q(h,{to:"/",class:"inline-flex items-center text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors"},{default:A(()=>[...r[4]||(r[4]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),D(" Volver al inicio ",-1)])]),_:1})])])])}}}),O=S(F,[["__scopeId","data-v-45943d8a"]]);export{O as default};
